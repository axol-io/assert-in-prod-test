id: verkle-conversion-check
name: "Check verkle state conversion"

tasks:
- name: check_clients_are_healthy
  title: "Check if at least one client is ready"
  timeout: 5m
  config:
    minClientCount: 1

- name: run_task_matrix
  title: "Check verkle conversion state for all execution clients"
  configVars:
    matrixValues: "clientPairNames"
  config:
    runConcurrent: true
    matrixVar: "clientPairName"
    task:
      name: check_execution_conversion_state
      title: "Check verkle conversion state for ${clientPairName}"
      config:
        expectStarted: true
        expectFinished: true
      configVars:
        clientPattern: "clientPairName"
